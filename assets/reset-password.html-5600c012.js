import{_ as r,M as p,p as u,q as h,R as s,N as t,V as n,t as a,a1 as d}from"./framework-35149b8f.js";const k={},_=s("h1",{id:"重置-mysql-密码",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#重置-mysql-密码","aria-hidden":"true"},"#"),a(" 重置 MySQL 密码")],-1),y=s("div",{class:"custom-container info"},[s("p",{class:"custom-container-title"},"版本帮助"),s("p",null,"本文会整理各种不同版本的 MySQL 的重置密码方法，如果这里不包含你的系统，请到仓库中提交 PR/Issue 来完善。")],-1),m={class:"table-of-contents"},g=s("h2",{id:"【方法-1】以安全模式重启",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#【方法-1】以安全模式重启","aria-hidden":"true"},"#"),a(" 【方法 1】以安全模式重启")],-1),q=s("h3",{id:"_1-1-关闭-mysql-服务",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-1-关闭-mysql-服务","aria-hidden":"true"},"#"),a(" 1.1 关闭 MySQL 服务")],-1),b=s("p",null,"使用系统上的管理员权限执行下面的命令：",-1),v=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token comment"},"# 对于 MySQL 5.x"),a(`
net stop mysql

`),s("span",{class:"token comment"},"# 对于 MySQL 8.0"),a(`
net stop mysql80
`)])])],-1),S=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token function"},"service"),a(` mysql stop
`),s("span",{class:"token comment"},"# 或者是"),a(`
systemctl stop mysqld.service
`)])])],-1),f=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,`mysql.server stop
`)])],-1),L=d(`<h3 id="_1-2-以安全模式启动-mysql" tabindex="-1"><a class="header-anchor" href="#_1-2-以安全模式启动-mysql" aria-hidden="true">#</a> 1.2 以安全模式启动 MySQL：</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>mysqld_safe --skip-grant-tables <span class="token operator">&amp;</span>
<span class="token comment"># 或者是</span>
mysqld --skip-grant-tables <span class="token operator">&amp;</span>
</code></pre></div><h3 id="_1-3-执行-sql-语句" tabindex="-1"><a class="header-anchor" href="#_1-3-执行-sql-语句" aria-hidden="true">#</a> 1.3 执行 SQL 语句</h3><p>下面的部分是 MySQL 交互命令的内容（不同版本命令有区别）：</p>`,4),x=s("div",{class:"language-sql","data-ext":"sql"},[s("pre",{class:"language-sql"},[s("code",null,[a("FLUSH "),s("span",{class:"token keyword"},"PRIVILEGES"),s("span",{class:"token punctuation"},";"),a(`
`),s("span",{class:"token keyword"},"UPDATE"),a(),s("span",{class:"token identifier"},[s("span",{class:"token punctuation"},"`"),a("mysql"),s("span",{class:"token punctuation"},"`")]),s("span",{class:"token punctuation"},"."),s("span",{class:"token identifier"},[s("span",{class:"token punctuation"},"`"),a("user"),s("span",{class:"token punctuation"},"`")]),a(),s("span",{class:"token keyword"},"SET"),a(),s("span",{class:"token identifier"},[s("span",{class:"token punctuation"},"`"),a("password"),s("span",{class:"token punctuation"},"`")]),s("span",{class:"token operator"},"="),a("PASSWORD"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'新密码'"),s("span",{class:"token punctuation"},")"),a(),s("span",{class:"token keyword"},"WHERE"),a(),s("span",{class:"token identifier"},[s("span",{class:"token punctuation"},"`"),a("user"),s("span",{class:"token punctuation"},"`")]),s("span",{class:"token operator"},"="),s("span",{class:"token string"},"'root'"),s("span",{class:"token punctuation"},";"),a(`
FLUSH `),s("span",{class:"token keyword"},"PRIVILEGES"),s("span",{class:"token punctuation"},";"),a(`
`),s("span",{class:"token keyword"},"EXIT"),s("span",{class:"token punctuation"},";"),a(`
`)])])],-1),E=s("div",{class:"language-sql","data-ext":"sql"},[s("pre",{class:"language-sql"},[s("code",null,[a("FLUSH "),s("span",{class:"token keyword"},"PRIVILEGES"),s("span",{class:"token punctuation"},";"),a(`
`),s("span",{class:"token keyword"},"UPDATE"),a(),s("span",{class:"token identifier"},[s("span",{class:"token punctuation"},"`"),a("mysql"),s("span",{class:"token punctuation"},"`")]),s("span",{class:"token punctuation"},"."),s("span",{class:"token identifier"},[s("span",{class:"token punctuation"},"`"),a("user"),s("span",{class:"token punctuation"},"`")]),a(),s("span",{class:"token keyword"},"SET"),a(),s("span",{class:"token identifier"},[s("span",{class:"token punctuation"},"`"),a("authentication_string"),s("span",{class:"token punctuation"},"`")]),s("span",{class:"token operator"},"="),a("PASSWORD"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'新密码'"),s("span",{class:"token punctuation"},")"),a(),s("span",{class:"token keyword"},"WHERE"),a(),s("span",{class:"token identifier"},[s("span",{class:"token punctuation"},"`"),a("user"),s("span",{class:"token punctuation"},"`")]),s("span",{class:"token operator"},"="),s("span",{class:"token string"},"'root'"),s("span",{class:"token punctuation"},";"),a(`
FLUSH `),s("span",{class:"token keyword"},"PRIVILEGES"),s("span",{class:"token punctuation"},";"),a(`
`),s("span",{class:"token keyword"},"EXIT"),s("span",{class:"token punctuation"},";"),a(`
`)])])],-1),Q=s("div",{class:"language-sql","data-ext":"sql"},[s("pre",{class:"language-sql"},[s("code",null,[a("FLUSH "),s("span",{class:"token keyword"},"PRIVILEGES"),s("span",{class:"token punctuation"},";"),a(`
`),s("span",{class:"token keyword"},"ALTER"),a(),s("span",{class:"token keyword"},"USER"),a(),s("span",{class:"token string"},"'root'"),s("span",{class:"token variable"},"@'localhost'"),a(" IDENTIFIED "),s("span",{class:"token keyword"},"BY"),a(),s("span",{class:"token string"},"'新密码'"),s("span",{class:"token punctuation"},";"),a(`
FLUSH `),s("span",{class:"token keyword"},"PRIVILEGES"),s("span",{class:"token punctuation"},";"),a(`
`),s("span",{class:"token keyword"},"EXIT"),s("span",{class:"token punctuation"},";"),a(`
`)])])],-1),M=s("h3",{id:"_1-4-启动-mysql-服务",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-4-启动-mysql-服务","aria-hidden":"true"},"#"),a(" 1.4 启动 MySQL 服务")],-1),w=s("p",null,"使用系统上的管理员权限执行下面的命令：",-1),A=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token comment"},"# 对于 MySQL 5.x"),a(`
net start mysql

`),s("span",{class:"token comment"},"# 对于 MySQL 8.0"),a(`
net start mysql80
`)])])],-1),I=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token function"},"service"),a(` mysql start
`),s("span",{class:"token comment"},"# 或者是"),a(`
systemctl start mysqld.service
`)])])],-1),R=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,`mysql.server start
`)])],-1),P=d('<h2 id="【方法-2】修改配置文件" tabindex="-1"><a class="header-anchor" href="#【方法-2】修改配置文件" aria-hidden="true">#</a> 【方法 2】修改配置文件</h2><h3 id="_2-1-修改配置文件" tabindex="-1"><a class="header-anchor" href="#_2-1-修改配置文件" aria-hidden="true">#</a> 2.1 修改配置文件</h3><p>修改前关闭 MySQL 服务，可参考 <a href="#_1-1-%E5%85%B3%E9%97%AD-mysql-%E6%9C%8D%E5%8A%A1">上一节</a>。</p><p>修改 <code>my.cnf</code>（可能是 <code>/etc/my.cnf</code> 或 <code>/etc/mysql/my.cnf</code>），在 <code>[mysqld]</code> 后添加 <code>skip-grant-tables</code>。</p><p>如果没有选项 <code>[mysqld]</code>，添加 <code>[mysqld]</code> 到配置文件中，并保存。</p><h3 id="_2-2-重启-mysql-服务" tabindex="-1"><a class="header-anchor" href="#_2-2-重启-mysql-服务" aria-hidden="true">#</a> 2.2 重启 MySQL 服务</h3>',6),T=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token comment"},"# 对于 MySQL 5.x"),a(`
net stop mysql
net start mysql

`),s("span",{class:"token comment"},"# 对于 MySQL 8.0"),a(`
net stop mysql80
net start mysql80
`)])])],-1),V=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token function"},"service"),a(` mysql restart
`),s("span",{class:"token comment"},"# 或者是"),a(`
systemctl restart mysqld.service
`)])])],-1),D=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,`mysql.server restart
`)])],-1),F=d(`<h3 id="_2-3-进入-mysql-执行-sql-语句" tabindex="-1"><a class="header-anchor" href="#_2-3-进入-mysql-执行-sql-语句" aria-hidden="true">#</a> 2.3 进入 MySQL 执行 SQL 语句</h3><p>现在可以不用密码进入服务器：</p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code>mysql <span class="token operator">-</span>u root
</code></pre></div><p>下面跳转到 <a href="#_1-3-%E6%89%A7%E8%A1%8C-sql-%E8%AF%AD%E5%8F%A5">执行 SQL 语句</a>，执行上述 SQL。</p><h3 id="_2-4-修改回原配置" tabindex="-1"><a class="header-anchor" href="#_2-4-修改回原配置" aria-hidden="true">#</a> 2.4 修改回原配置</h3><p>删除上述配置，然后重启 MySQL 服务。</p>`,6);function U(H,W){const c=p("router-link"),i=p("Tabs");return u(),h("div",null,[_,y,s("nav",m,[s("ul",null,[s("li",null,[t(c,{to:"#【方法-1】以安全模式重启"},{default:n(()=>[a("【方法 1】以安全模式重启")]),_:1}),s("ul",null,[s("li",null,[t(c,{to:"#_1-1-关闭-mysql-服务"},{default:n(()=>[a("1.1 关闭 MySQL 服务")]),_:1})]),s("li",null,[t(c,{to:"#_1-2-以安全模式启动-mysql"},{default:n(()=>[a("1.2 以安全模式启动 MySQL：")]),_:1})]),s("li",null,[t(c,{to:"#_1-3-执行-sql-语句"},{default:n(()=>[a("1.3 执行 SQL 语句")]),_:1})]),s("li",null,[t(c,{to:"#_1-4-启动-mysql-服务"},{default:n(()=>[a("1.4 启动 MySQL 服务")]),_:1})])])]),s("li",null,[t(c,{to:"#【方法-2】修改配置文件"},{default:n(()=>[a("【方法 2】修改配置文件")]),_:1}),s("ul",null,[s("li",null,[t(c,{to:"#_2-1-修改配置文件"},{default:n(()=>[a("2.1 修改配置文件")]),_:1})]),s("li",null,[t(c,{to:"#_2-2-重启-mysql-服务"},{default:n(()=>[a("2.2 重启 MySQL 服务")]),_:1})]),s("li",null,[t(c,{to:"#_2-3-进入-mysql-执行-sql-语句"},{default:n(()=>[a("2.3 进入 MySQL 执行 SQL 语句")]),_:1})]),s("li",null,[t(c,{to:"#_2-4-修改回原配置"},{default:n(()=>[a("2.4 修改回原配置")]),_:1})])])])])]),g,q,b,t(i,{id:"20",data:[{title:"Windows"},{title:"Linux"},{title:"Mac"}],"tab-id":"bash"},{tab0:n(({title:e,value:l,isActive:o})=>[v]),tab1:n(({title:e,value:l,isActive:o})=>[S]),tab2:n(({title:e,value:l,isActive:o})=>[f]),_:1}),L,t(i,{id:"41",data:[{title:"MySQL 5.1-5.6"},{title:"MySQL 5.7"},{title:"MySQL 8.0"}],"tab-id":"mysql"},{tab0:n(({title:e,value:l,isActive:o})=>[x]),tab1:n(({title:e,value:l,isActive:o})=>[E]),tab2:n(({title:e,value:l,isActive:o})=>[Q]),_:1},8,["data"]),M,w,t(i,{id:"58",data:[{title:"Windows"},{title:"Linux"},{title:"Mac"}],"tab-id":"bash"},{tab0:n(({title:e,value:l,isActive:o})=>[A]),tab1:n(({title:e,value:l,isActive:o})=>[I]),tab2:n(({title:e,value:l,isActive:o})=>[R]),_:1}),P,t(i,{id:"87",data:[{title:"Windows"},{title:"Linux"},{title:"Mac"}],"tab-id":"bash"},{tab0:n(({title:e,value:l,isActive:o})=>[T]),tab1:n(({title:e,value:l,isActive:o})=>[V]),tab2:n(({title:e,value:l,isActive:o})=>[D]),_:1}),F])}const N=r(k,[["render",U],["__file","reset-password.html.vue"]]);export{N as default};
