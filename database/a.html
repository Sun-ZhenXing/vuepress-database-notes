<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.0">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/vuepress-database-notes/favicon.svg"><title>附录 A：实验 SQL | 数据库笔记合集</title><meta name="description" content="各种数据库和 SQL 笔记">
    <link rel="preload" href="/vuepress-database-notes/assets/style-kK_HitsF.css" as="style"><link rel="stylesheet" href="/vuepress-database-notes/assets/style-kK_HitsF.css">
    <link rel="modulepreload" href="/vuepress-database-notes/assets/app-Y4KcrCk8.js"><link rel="modulepreload" href="/vuepress-database-notes/assets/a.html-ot1fj7TR.js"><link rel="modulepreload" href="/vuepress-database-notes/assets/a.html-lD7h55Uu.js">
    <link rel="prefetch" href="/vuepress-database-notes/assets/index.html-3OMEh7v2.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/b.html-hy0S0kJC.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/c.html-iJpLkQbB.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-2ufS3Bh-.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-_YftCcTW.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-pxsPIr8K.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-CF5vwdVE.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/q3c.html-J4NXWFbR.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-1NFdM7Pm.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/recursion.html-aAvaVmql.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/uuid.html-0jyQmfn9.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-_hSx9S9S.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-ODvho95R.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/reset-password.html-Lhzvtkll.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-ZMZAFHjz.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/get-started.html-e8u7Cb1Y.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-l5PcTl_Y.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-K7Qv0dP6.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-5bw9J50K.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-ClpUd2jQ.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-_ytkL8Vd.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/404.html-_66Di_BG.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-u9V0Uhze.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/b.html-taucG0JF.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/c.html-ouQoC29w.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-wS2Q25jA.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-lk2GbehY.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-poEdAidE.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-_mBbs8c0.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/q3c.html-hqAX-SgO.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-B3jV1wdd.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/recursion.html-p4c-XDB_.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/uuid.html-_P5H_Cvm.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-5245FXzm.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-T3bcetav.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/reset-password.html-TwI_Qrb-.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-mpF-FhgY.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/get-started.html-WveeA4DV.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-fZoPZJWi.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-RYeeePer.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-Ovae02D8.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-ylBA5vk5.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/index.html-b5f3WfeB.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/404.html-jFhflaI7.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/mermaid.core-cVPmsejw.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/copy-tex.min-LXTknfyr.js" as="script"><link rel="prefetch" href="/vuepress-database-notes/assets/SearchResult-w106pXgT.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/vuepress-database-notes/" class=""><img class="logo" src="/vuepress-database-notes/favicon.svg" alt="数据库笔记合集"><span class="site-name can-hide">数据库笔记合集</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/Sun-ZhenXing/vuepress-database-notes/" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="切换颜色模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button type="button" class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/Sun-ZhenXing/vuepress-database-notes/" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">附录 A：实验 SQL <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vuepress-database-notes/database/a.html#实验一" class="router-link-active router-link-exact-active sidebar-item" aria-label="实验一"><!--[--><!--]--> 实验一 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress-database-notes/database/a.html#实验二" class="router-link-active router-link-exact-active sidebar-item" aria-label="实验二"><!--[--><!--]--> 实验二 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress-database-notes/database/a.html#实验三" class="router-link-active router-link-exact-active sidebar-item" aria-label="实验三"><!--[--><!--]--> 实验三 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress-database-notes/database/a.html#实验四" class="router-link-active router-link-exact-active sidebar-item" aria-label="实验四"><!--[--><!--]--> 实验四 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="附录-a实验-sql" tabindex="-1"><a class="header-anchor" href="#附录-a实验-sql" aria-hidden="true">#</a> 附录 A：实验 SQL</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/vuepress-database-notes/database/a.html#实验一" class="router-link-active router-link-exact-active">实验一</a></li><li><a aria-current="page" href="/vuepress-database-notes/database/a.html#实验二" class="router-link-active router-link-exact-active">实验二</a></li><li><a aria-current="page" href="/vuepress-database-notes/database/a.html#实验三" class="router-link-active router-link-exact-active">实验三</a></li><li><a aria-current="page" href="/vuepress-database-notes/database/a.html#实验四" class="router-link-active router-link-exact-active">实验四</a></li></ul></nav><h2 id="实验一" tabindex="-1"><a class="header-anchor" href="#实验一" aria-hidden="true">#</a> 实验一</h2><p>创建一个名为 <code>StuDB</code> 的数据库，在该数据库下根据下列表格给出的内容创建四个表 <code>S</code>（学生）、<code>C</code>（课程表）、<code>SC</code>（选课关系表）、<code>Dept</code>（系部表）。</p><p><code>S</code> 表：</p><table><thead><tr><th style="text-align:center;">字段名称</th><th style="text-align:center;">数据类型</th><th style="text-align:center;">主码</th><th style="text-align:center;">可空</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;"><code>Sno</code></td><td style="text-align:center;">长整型</td><td style="text-align:center;">*</td><td style="text-align:center;"><code>NOT NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Sname</code></td><td style="text-align:center;">文本</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Sex</code></td><td style="text-align:center;">文本</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"><code>&#39;男&#39;</code></td></tr><tr><td style="text-align:center;"><code>Age</code></td><td style="text-align:center;">长整型</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Deptno</code></td><td style="text-align:center;">长整型</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NOT NULL</code></td><td style="text-align:center;"></td></tr></tbody></table><p><code>C</code> 表：</p><table><thead><tr><th style="text-align:center;">字段名称</th><th style="text-align:center;">数据类型</th><th style="text-align:center;">主码</th><th style="text-align:center;">可空</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;"><code>Cno</code></td><td style="text-align:center;">长整型</td><td style="text-align:center;">*</td><td style="text-align:center;"><code>NOT NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Cname</code></td><td style="text-align:center;">文本</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Cpno</code></td><td style="text-align:center;">长整型</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Credit</code></td><td style="text-align:center;">单精度</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"></td></tr></tbody></table><p><code>SC</code> 表：</p><table><thead><tr><th style="text-align:center;">字段名称</th><th style="text-align:center;">数据类型</th><th style="text-align:center;">主码</th><th style="text-align:center;">可空</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;"><code>Sno</code></td><td style="text-align:center;">长整型</td><td style="text-align:center;">*</td><td style="text-align:center;"><code>NOT NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Cno</code></td><td style="text-align:center;">长整型</td><td style="text-align:center;">*</td><td style="text-align:center;"><code>NOT NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Grade</code></td><td style="text-align:center;">单精度</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"></td></tr></tbody></table><p><code>Dept</code> 表：</p><table><thead><tr><th style="text-align:center;">字段名称</th><th style="text-align:center;">数据类型</th><th style="text-align:center;">主码</th><th style="text-align:center;">可空</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;"><code>Deptno</code></td><td style="text-align:center;">长整型</td><td style="text-align:center;">*</td><td style="text-align:center;"><code>NOT NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Deptname</code></td><td style="text-align:center;">文本</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>Mastername</code></td><td style="text-align:center;">文本</td><td style="text-align:center;"></td><td style="text-align:center;"><code>NULL</code></td><td style="text-align:center;"></td></tr></tbody></table><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#6A9955;">-- 按照顺序创建下面四个表</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">TABLE</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">Dept</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    Deptno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT NULL</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Deptname </span><span style="color:#569CD6;">VARCHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">30</span><span style="color:#D4D4D4;">),</span></span>
<span class="line"><span style="color:#D4D4D4;">    Mastername </span><span style="color:#569CD6;">VARCHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">30</span><span style="color:#D4D4D4;">),</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">PRIMARY KEY</span><span style="color:#D4D4D4;"> (Deptno),</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">TABLE</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">S</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">PRIMARY KEY</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sname </span><span style="color:#569CD6;">VARCHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">30</span><span style="color:#D4D4D4;">),</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sex </span><span style="color:#569CD6;">VARCHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">DEFAULT</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Age </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Deptno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT NULL</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">FOREIGN KEY</span><span style="color:#D4D4D4;"> (Deptno) </span><span style="color:#569CD6;">REFERENCES</span><span style="color:#D4D4D4;"> Dept(Deptno)</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">TABLE</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">C</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    Cno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">PRIMARY KEY</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Cname </span><span style="color:#569CD6;">VARCHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">30</span><span style="color:#D4D4D4;">),</span></span>
<span class="line"><span style="color:#D4D4D4;">    Cpno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Credit </span><span style="color:#569CD6;">FLOAT</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">FOREIGN KEY</span><span style="color:#D4D4D4;"> (Cpno) </span><span style="color:#569CD6;">REFERENCES</span><span style="color:#D4D4D4;"> C(Cno)</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">TABLE</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">SC</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT NULL</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Cno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT NULL</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Grade </span><span style="color:#569CD6;">FLOAT</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">PRIMARY KEY</span><span style="color:#D4D4D4;"> (Sno, Cno),</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">FOREIGN KEY</span><span style="color:#D4D4D4;"> (Sno) </span><span style="color:#569CD6;">REFERENCES</span><span style="color:#D4D4D4;"> S(Sno),</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">FOREIGN KEY</span><span style="color:#D4D4D4;"> (Cno) </span><span style="color:#569CD6;">REFERENCES</span><span style="color:#D4D4D4;"> C(Cno)</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>数据内容（<code>S</code> 表）：</p><table><thead><tr><th><code>Sno</code></th><th><code>Sname</code></th><th><code>Sex</code></th><th><code>Age</code></th><th><code>Deptno</code></th></tr></thead><tbody><tr><td>991401</td><td>何丽</td><td>女</td><td>18</td><td>6</td></tr><tr><td>992401</td><td>胡涛</td><td>男</td><td>20</td><td>5</td></tr><tr><td>993401</td><td>马华</td><td>女</td><td>21</td><td>4</td></tr><tr><td>993402</td><td>马吉</td><td>男</td><td>22</td><td>4</td></tr><tr><td>994423</td><td>何小波</td><td>男</td><td>22</td><td>3</td></tr><tr><td>994424</td><td>路敏</td><td>女</td><td>20</td><td>3</td></tr><tr><td>995401</td><td>朱华</td><td>女</td><td>19</td><td>2</td></tr><tr><td>995402</td><td>张立</td><td>女</td><td>18</td><td>2</td></tr><tr><td>996401</td><td>李明</td><td>男</td><td>19</td><td>1</td></tr><tr><td>996402</td><td>刘晨</td><td>男</td><td>22</td><td>1</td></tr><tr><td>996403</td><td>张征</td><td>男</td><td>21</td><td>1</td></tr></tbody></table><p>数据内容（<code>SC</code> 表）：</p><table><thead><tr><th><code>Sno</code></th><th><code>Cno</code></th><th><code>Grade</code></th></tr></thead><tbody><tr><td>991401</td><td>7</td><td>60</td></tr><tr><td>992401</td><td>3</td><td>85</td></tr><tr><td>992401</td><td>7</td><td>88</td></tr><tr><td>993401</td><td>7</td><td>85</td></tr><tr><td>993402</td><td>7</td><td>90</td></tr><tr><td>994423</td><td>6</td><td></td></tr><tr><td>994423</td><td>7</td><td>75</td></tr><tr><td>994424</td><td>6</td><td>70</td></tr><tr><td>994424</td><td>7</td><td>60</td></tr><tr><td>995401</td><td>1</td><td>70</td></tr><tr><td>995401</td><td>7</td><td>80</td></tr><tr><td>995402</td><td>7</td><td></td></tr><tr><td>996401</td><td>1</td><td>80</td></tr><tr><td>996401</td><td>2</td><td>95</td></tr><tr><td>996401</td><td>7</td><td>85</td></tr><tr><td>996402</td><td>1</td><td>75</td></tr><tr><td>996402</td><td>2</td><td>60</td></tr><tr><td>996402</td><td>7</td><td>80</td></tr><tr><td>996403</td><td>1</td><td>70</td></tr><tr><td>996403</td><td>7</td><td>80</td></tr></tbody></table><p>数据内容（<code>C</code> 表）：</p><table><thead><tr><th><code>Cno</code></th><th><code>Cname</code></th><th><code>Cpno</code></th><th><code>Credit</code></th></tr></thead><tbody><tr><td>1</td><td>数据库原理</td><td>4</td><td>4</td></tr><tr><td>2</td><td>计算数学</td><td></td><td>3</td></tr><tr><td>3</td><td>管理信息系统</td><td>1</td><td>3</td></tr><tr><td>4</td><td>数据结构</td><td>6</td><td>4</td></tr><tr><td>5</td><td>操作系统</td><td>7</td><td>4</td></tr><tr><td>6</td><td>C语言</td><td>7</td><td>5</td></tr><tr><td>7</td><td>计算机基础</td><td></td><td>3</td></tr></tbody></table><p>数据内容（<code>Dept</code> 表）：</p><table><thead><tr><th><code>Deptno</code></th><th><code>Deptname</code></th><th><code>Mastername</code></th></tr></thead><tbody><tr><td>1</td><td>计算机系</td><td>刘红</td></tr><tr><td>2</td><td>信息系</td><td>李兰</td></tr><tr><td>3</td><td>数学系</td><td>张华</td></tr><tr><td>4</td><td>质量系</td><td>李兰</td></tr><tr><td>5</td><td>经管系</td><td>李辉</td></tr><tr><td>6</td><td>电气系</td><td>刘卫国</td></tr><tr><td>7</td><td>语文系</td><td>许卫国</td></tr></tbody></table><h2 id="实验二" tabindex="-1"><a class="header-anchor" href="#实验二" aria-hidden="true">#</a> 实验二</h2><ol><li>用 SQL 语句创建一个新表 <code>S1</code>（表的结构与学生表 <code>S</code> 一致），要包含主键、外键（参照 <code>Dept</code> 表）和默认值的定义</li><li>使用 SQL 语句删除表 <code>S1</code></li><li>将一个新学生记录 <code>(997401, &#39;张小玉&#39;, &#39;女&#39;, 20, 7)</code> 插入到学生表 <code>S</code> 中</li><li>往成绩表中增加一条记录 <code>(991401, 8, 100)</code>，发现什么问题，如何解决？</li><li>插入一条无成绩的选课记录 <code>(997401, 7)</code></li><li>将学生 <code>997401</code> 的年龄改为 <code>22</code> 岁</li><li>将所有男学生的年龄增加一岁</li><li>删除学号为 <code>997401</code> 的学生记录</li><li>删除课程编号为 <code>7</code> 的课程记录</li><li>查询每门课程先修课的课程名（查询结果包括课程号，先修课课程号，先修课课程名）</li><li>查询年龄在 <code>19</code> 岁（含 <code>19</code> 岁）以上的学生记录</li><li>查询考试成绩为 <code>80</code>（含 <code>80</code> 分）分以上的成绩信息</li><li>查询全体女生的详细信息</li><li>查询 <code>1</code> 号系学生的选课信息</li><li>删除系部编号为 <code>1</code> 的系部信息，发现什么问题，如何解决？</li></ol><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#6A9955;">-- 创建表 S1</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">TABLE</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">S1</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">PRIMARY KEY</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sname </span><span style="color:#569CD6;">VARCHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">30</span><span style="color:#D4D4D4;">),</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sex </span><span style="color:#569CD6;">VARCHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">DEFAULT</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Age </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Deptno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT NULL</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">FOREIGN KEY</span><span style="color:#D4D4D4;"> (Deptno) </span><span style="color:#569CD6;">REFERENCES</span><span style="color:#D4D4D4;"> Dept(Deptno)</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 删除表 S1</span></span>
<span class="line"><span style="color:#569CD6;">DROP</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">TABLE</span><span style="color:#D4D4D4;"> S1;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 插入数据</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;"> (</span><span style="color:#B5CEA8;">997401</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;张小玉&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;女&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">20</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">7</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 8 不在 SC 中</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;"> (</span><span style="color:#B5CEA8;">991401</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">8</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">100</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#6A9955;">-- 解决方法：将 8 替换为 6</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;"> (</span><span style="color:#B5CEA8;">991401</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">6</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">100</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#6A9955;">-- 或者插入一条到 C 表</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;"> (</span><span style="color:#B5CEA8;">8</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;新课程&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#569CD6;">NULL</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 无成绩的记录</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> SC (Sno, Cno) </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;"> (</span><span style="color:#B5CEA8;">997401</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">7</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 更新</span></span>
<span class="line"><span style="color:#569CD6;">UPDATE</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">SET</span><span style="color:#D4D4D4;"> Age = </span><span style="color:#B5CEA8;">22</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sno = </span><span style="color:#B5CEA8;">997401</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 更新全部年龄</span></span>
<span class="line"><span style="color:#569CD6;">UPDATE</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">SET</span><span style="color:#D4D4D4;"> Age = Age - </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 删除学生记录</span></span>
<span class="line"><span style="color:#569CD6;">DELETE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sno = </span><span style="color:#B5CEA8;">997401</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#6A9955;">-- 去除约束</span></span>
<span class="line"><span style="color:#569CD6;">DELETE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sno = </span><span style="color:#B5CEA8;">997401</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 删除课程号</span></span>
<span class="line"><span style="color:#569CD6;">UPDATE</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">SET</span><span style="color:#D4D4D4;"> Cpno = </span><span style="color:#569CD6;">NULL</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Cpno = </span><span style="color:#B5CEA8;">7</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;">DELETE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Cno = </span><span style="color:#B5CEA8;">7</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#6A9955;">-- 去除约束</span></span>
<span class="line"><span style="color:#569CD6;">DELETE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Cno = </span><span style="color:#B5CEA8;">7</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 查询先修课程</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> C.Cno, C.Cpno, (</span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Cname </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">as</span><span style="color:#D4D4D4;"> _C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> _C.Cno = C.Cpno) </span><span style="color:#569CD6;">as</span><span style="color:#D4D4D4;"> CPName </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 年龄查询</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Age &gt;= </span><span style="color:#B5CEA8;">19</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 成绩查询</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Grade &gt;= </span><span style="color:#B5CEA8;">80</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 查询女生</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sex = </span><span style="color:#CE9178;">&#39;女&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 1 号系学生选课信息</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> S.Sno, SC.Cno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S, SC</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> S.Sno = SC.Sno </span><span style="color:#569CD6;">and</span><span style="color:#D4D4D4;"> S.Deptno = </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#6A9955;">-- 或者</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> S.Sno, SC.Cno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">INNER JOIN</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">ON</span><span style="color:#D4D4D4;"> S.Sno = SC.Sno</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> S.Deptno = </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 与 S 约束冲突</span></span>
<span class="line"><span style="color:#569CD6;">DELETE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> Dept </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptno = </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#6A9955;">-- 解决办法：删除冲突的记录</span></span>
<span class="line"><span style="color:#569CD6;">DELETE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sno </span><span style="color:#569CD6;">IN</span><span style="color:#D4D4D4;"> (</span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Sno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptno = </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#569CD6;">DELETE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptno = </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="实验三" tabindex="-1"><a class="header-anchor" href="#实验三" aria-hidden="true">#</a> 实验三</h2><ol><li>查询 “计算机系” 学生的学号与姓名</li><li>查询年龄大于 <code>20</code> 岁的所有学生的信息</li><li>查询成绩小于 <code>80</code> 分的学生学号、姓名、课程名、成绩，并按学号升序、成绩将序排列</li><li>查询所有没有成绩的学生的学号</li><li>查询选修各门课程的学生的人数、平均成绩、最高分、最低分和总分</li><li>查询至少选修了两门以上课程的学生学号</li><li>查询所有姓 “张” 的学生的详细情况</li><li>查询每一门课程的先修课的先修课</li><li>查询选修 “数据库原理” 且成绩在 <code>70</code> 分以上的学生学号、姓名（分别用多表连接和嵌套查询完成）</li><li>查询计算机系没有选修 <code>7</code> 号课程的学生的学号和姓名</li><li>查询被所有学生都选修的课程名称</li><li>查询至少选修了学生 “张征” 选修的全部课程的学生的学号和姓名</li><li>查询学分大于 <code>4</code> 或等于 <code>3</code> 的课程的名称和学分（用 <code>union</code> 操作）</li><li>查询 “计算机系” 中比 “质量系” 所有学生年龄都小的学生姓名和年龄</li><li>查询 “计算机系” 选修 “数据库原理” 课程的学生姓名和成绩</li></ol><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#6A9955;">-- 1</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Sno, Sname </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptno = (</span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Deptno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> Dept </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptname = </span><span style="color:#CE9178;">&#39;计算机系&#39;</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 2</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Age &gt; </span><span style="color:#B5CEA8;">20</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 3</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> S.Sno, S.Sname, (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> C.Cname </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> C.Cno = SC.Cno)</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> Cname, SC.Grade</span></span>
<span class="line"><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S, SC</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> SC.Grade &lt; </span><span style="color:#B5CEA8;">80</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> S.Sno = SC.Sno</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">ORDER BY</span><span style="color:#D4D4D4;"> S.Sno </span><span style="color:#569CD6;">ASC</span><span style="color:#D4D4D4;">, SC.Grade </span><span style="color:#569CD6;">DESC</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 4</span></span>
<span class="line"><span style="color:#569CD6;">SELECT DISTINCT</span><span style="color:#D4D4D4;"> Sno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Grade </span><span style="color:#569CD6;">IS</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NULL</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 5</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Cno, </span><span style="color:#DCDCAA;">COUNT</span><span style="color:#D4D4D4;">(Cno) </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> NUMs, </span><span style="color:#DCDCAA;">AVG</span><span style="color:#D4D4D4;">(Grade) </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> AVGs,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">MAX</span><span style="color:#D4D4D4;">(Grade) </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> MAXs, </span><span style="color:#DCDCAA;">MIN</span><span style="color:#D4D4D4;">(Grade) </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> MINs</span></span>
<span class="line"><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">GROUP BY</span><span style="color:#D4D4D4;"> Cno;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 6</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Sno, </span><span style="color:#DCDCAA;">COUNT</span><span style="color:#D4D4D4;">(Sno) </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> NUMs </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">GROUP BY</span><span style="color:#D4D4D4;"> Sno </span><span style="color:#569CD6;">HAVING</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">COUNT</span><span style="color:#D4D4D4;">(Sno) &gt;= </span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 7</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sname </span><span style="color:#569CD6;">LIKE</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;张%&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 8</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Cno, Cpno, (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> _C.Cpno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> _C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> _C.Cno = C.Cpno) </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> Ppno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 9 嵌套查询</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Sno, (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Sname </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sno = SC.Sno) </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> Sname</span></span>
<span class="line"><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Grade &gt; </span><span style="color:#B5CEA8;">70</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> Cno = (</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Cno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Cname = </span><span style="color:#CE9178;">&#39;数据库原理&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">        );</span></span>
<span class="line"><span style="color:#6A9955;">-- 9 多表连接</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> S.Sno, S.Sname </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S, SC</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> S.Sno = SC.Sno </span><span style="color:#569CD6;">AND</span></span>
<span class="line"><span style="color:#D4D4D4;">        SC.Grade &gt; </span><span style="color:#B5CEA8;">70</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">AND</span></span>
<span class="line"><span style="color:#D4D4D4;">        SC.Cno = (</span></span>
<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Cno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Cname = </span><span style="color:#CE9178;">&#39;数据库原理&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">        );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 10</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Sno, Sname </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptno = (</span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Deptno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> Dept </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptname = </span><span style="color:#CE9178;">&#39;计算机系&#39;</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> Sno </span><span style="color:#569CD6;">NOT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">IN</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">SELECT DISTINCT</span><span style="color:#D4D4D4;"> Sno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Cno = </span><span style="color:#B5CEA8;">7</span></span>
<span class="line"><span style="color:#D4D4D4;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 11</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> C.Cno, C.Cname </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> C.Cno </span><span style="color:#569CD6;">IN</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT DISTINCT</span><span style="color:#D4D4D4;"> SC.Cno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">GROUP BY</span><span style="color:#D4D4D4;"> SC.Cno</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">HAVING</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">COUNT</span><span style="color:#D4D4D4;">(*) = (</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">COUNT</span><span style="color:#D4D4D4;">(*) </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S</span></span>
<span class="line"><span style="color:#D4D4D4;">    )</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 12</span></span>
<span class="line"><span style="color:#6A9955;">-- 解释为不存在一个课程 B，使得 “张征” 选择了而同学 A 没有选择</span></span>
<span class="line"><span style="color:#569CD6;">SELECT DISTINCT</span><span style="color:#D4D4D4;"> Sno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> A_SC</span></span>
<span class="line"><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">EXISTS</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> B_SC </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> B_SC.Sno = (</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> S.Sno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> S.Sname = </span><span style="color:#CE9178;">&#39;张征&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">    ) </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">EXISTS</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">AS</span><span style="color:#D4D4D4;"> C_SC</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> C_SC.Cno = B_SC.Cno </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> C_SC.Sno = A_SC.Sno</span></span>
<span class="line"><span style="color:#D4D4D4;">    )</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 13</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Cname, Credit </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Credit = </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">UNION</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Cname, Credit </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Credit &gt; </span><span style="color:#B5CEA8;">4</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 14</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Sname, Age </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S</span></span>
<span class="line"><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> S.Deptno = (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Deptno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> Dept</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptname = </span><span style="color:#CE9178;">&#39;计算机系&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> S.Age &lt; ALL (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Age </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptno = (</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Deptno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> Dept</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptname = </span><span style="color:#CE9178;">&#39;质量系&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">    )</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 15</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Sname, Grade </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S, SC</span></span>
<span class="line"><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> S.Sno = SC.Sno </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> S.Deptno = (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Deptno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> Dept</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Deptname = </span><span style="color:#CE9178;">&#39;计算机系&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> SC.Cno = (</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> Cno </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> C</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Cname = </span><span style="color:#CE9178;">&#39;数据库原理&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="实验四" tabindex="-1"><a class="header-anchor" href="#实验四" aria-hidden="true">#</a> 实验四</h2><ol><li>以 <code>SA</code> 身份登陆系统，创建数据库用户 <code>User1</code>，使用 <code>User1</code> 用户登录到数据库</li><li>使用超级用户登录到数据库，对 <code>User1</code> 用户进行授权，允许 <code>User1</code> 访问 <code>Student</code> 表，允许 <code>User1</code> 修改 <code>C</code> 表中 <code>Cname</code> 属性列。然后再使用 <code>User1</code> 用户登录到数据库，观察其访问权限</li><li>使用 SQL 语句完成一下操作：定义一新的登录帐号 <code>Hu</code>、数据库用户 <code>Hu</code>，并授予其访问学生表 <code>S</code> 的 <code>SELECT</code> 权限，授予其修改 <code>Sname</code> 的权限，使用 <code>Hu</code> 登录数据库，分别查询修改 <code>S</code> 表，观察执行结果。使用 <code>REVOKE</code> 命令回收 <code>Hu</code> 的相应权限，再次使用 <code>Hu</code> 登录数据库，分别查询修改 <code>S</code> 表，观察执行结果</li></ol><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#6A9955;">-- 安全性</span></span>
<span class="line"><span style="color:#6A9955;">-- 1. 以 SA 身份登陆系统，创建数据库用户 User1，使用 User1 用户登录到数据库</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">DATABASE</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">Stu20030839</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">LOGIN</span><span style="color:#D4D4D4;"> User1 </span><span style="color:#569CD6;">WITH</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">PASSWORD</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&#39;123456&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">DEFAULT_DATABASE</span><span style="color:#D4D4D4;"> = Stu20030839;</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">USER</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">User1</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FOR</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">LOGIN</span><span style="color:#D4D4D4;"> User1;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--2. 对 User1 用户进行授权</span></span>
<span class="line"><span style="color:#6A9955;">--（1）允许 User1 访问 Student 表</span></span>
<span class="line"><span style="color:#569CD6;">GRANT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">ON</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">TO</span><span style="color:#D4D4D4;"> User1;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--（2）允许 User1 修改 C 表中 CNAME 属性列</span></span>
<span class="line"><span style="color:#569CD6;">GRANT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">UPDATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">ON</span><span style="color:#D4D4D4;"> C(Cname) </span><span style="color:#569CD6;">TO</span><span style="color:#D4D4D4;"> User1;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--（3）查看User1权限</span></span>
<span class="line"><span style="color:#569CD6;">EXEC</span><span style="color:#D4D4D4;"> SP_HELPROTECT @USERNAME = </span><span style="color:#CE9178;">&#39;User1&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--查看所有用户</span></span>
<span class="line"><span style="color:#569CD6;">EXEC</span><span style="color:#D4D4D4;"> SP_HELPUSER;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--3. 使用 SQL 语句完成以下操作</span></span>
<span class="line"><span style="color:#6A9955;">--（1）定义一新的登录帐号Hu</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">LOGIN</span><span style="color:#D4D4D4;"> Hu </span><span style="color:#569CD6;">WITH</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">PASSWORD</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&#39;123456&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">DEFAULT_DATABASE</span><span style="color:#D4D4D4;"> = Stu20030839;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--（2）数据库用户 Hu</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">USER</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">Hu</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FOR</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">LOGIN</span><span style="color:#D4D4D4;"> Hu;</span></span>
<span class="line"><span style="color:#6A9955;">-- 可以加入 WITH DEFAULT_SCHEMA=dbo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--（3）授予其访问学生表 S 的 Select 权限，授予其修改 Sname 的权限</span></span>
<span class="line"><span style="color:#569CD6;">GRANT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">UPDATE</span><span style="color:#D4D4D4;">(Sname), </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">ON</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">TO</span><span style="color:#D4D4D4;"> Hu </span><span style="color:#569CD6;">WITH</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">GRANT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">OPTION</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#6A9955;">--检验：</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sno=</span><span style="color:#B5CEA8;">992401</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">UPDATE</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">SET</span><span style="color:#D4D4D4;"> Sname=</span><span style="color:#CE9178;">&#39;李明&#39;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">WHERE</span><span style="color:#D4D4D4;"> Sno=</span><span style="color:#B5CEA8;">996401</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> * </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> S;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--（4）使用 REVOKE 命令回收 Hu 的相应权限</span></span>
<span class="line"><span style="color:#569CD6;">REVOKE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">UPDATE</span><span style="color:#D4D4D4;">(Sname), </span><span style="color:#569CD6;">SELECT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">ON</span><span style="color:#D4D4D4;"> S </span><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> Hu CASCADE;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--（5）查看 Hu 的权限</span></span>
<span class="line"><span style="color:#569CD6;">EXEC</span><span style="color:#D4D4D4;"> SP_HELPROTECT @USERNAME = </span><span style="color:#CE9178;">&#39;Hu&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--完整性</span></span>
<span class="line"><span style="color:#6A9955;">--1. 建立新表 S1</span></span>
<span class="line"><span style="color:#569CD6;">CREATE</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">TABLE</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">S1</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">PRIMARY KEY</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT NULL</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sname </span><span style="color:#569CD6;">CHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">10</span><span style="color:#D4D4D4;">),</span></span>
<span class="line"><span style="color:#D4D4D4;">    Sex </span><span style="color:#569CD6;">CHAR</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">DEFAULT</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">CHECK</span><span style="color:#D4D4D4;">(Sex </span><span style="color:#569CD6;">IN</span><span style="color:#D4D4D4;"> (</span><span style="color:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;女&#39;</span><span style="color:#D4D4D4;">)),</span></span>
<span class="line"><span style="color:#D4D4D4;">    Age </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">CHECK</span><span style="color:#D4D4D4;">(Age&gt;</span><span style="color:#B5CEA8;">18</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">AND</span><span style="color:#D4D4D4;"> Age &lt; </span><span style="color:#B5CEA8;">60</span><span style="color:#D4D4D4;">),</span></span>
<span class="line"><span style="color:#D4D4D4;">    Deptno </span><span style="color:#569CD6;">BIGINT</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">NOT NULL</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">FOREIGN KEY</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">REFERENCES</span><span style="color:#D4D4D4;"> Dept(Deptno)</span></span>
<span class="line"><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">--2. 使用 SQL 语句分别往表 S1 中插入两条记录</span></span>
<span class="line"><span style="color:#6A9955;">-- 其中一条记录年龄为 0 岁，另一条记录系部编号为 100，观察提示信息，并进行分析。</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> S1(Sno, Sname, Sex, Age, Deptno) </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;"> (</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;张三&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> S1(Sno, Sname, Sex,Age,Deptno) </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;"> (</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;李四&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">20</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">100</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">-- 3. 如何向表 SC 中插入一条记录 (996409, 10, 80)</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> S(Sno,Deptno) </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">996409</span><span style="color:#D4D4D4;">,</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> C(Cno) </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">10</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;"> SC </span><span style="color:#569CD6;">VALUES</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">996409</span><span style="color:#D4D4D4;">,</span><span style="color:#B5CEA8;">10</span><span style="color:#D4D4D4;">,</span><span style="color:#B5CEA8;">80</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/Sun-ZhenXing/vuepress-database-notes//edit/main/docs/database/a.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页"><!--[--><!--]--> 在 GitHub 上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1006925066@qq.com">Sun-ZhenXing</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/vuepress-database-notes/assets/app-Y4KcrCk8.js" defer></script>
  </body>
</html>
